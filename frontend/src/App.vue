<template>
  <div>
    <h1>ğŸ“š Bookstore</h1>

    <!-- ìƒì„¸ í˜ì´ì§€ìš© ë¼ìš°íŒ… ì˜ì—­ -->
    <router-view />

    <!-- ë¦¬ìŠ¤íŠ¸ + ë“±ë¡ êµ¬ì—­ (ë¼ìš°í„°ë¡œ ë¶„ë¦¬ëìœ¼ë¯€ë¡œ ì£¼ì„ ì²˜ë¦¬) -->
    <!--
    <div v-if="!showForm">
      <button @click="showForm = true">â• ìƒˆ ì±… ë“±ë¡</button>
      <BookList ref="bookListRef" />
    </div>

    <div v-else>
      <BookForm @book-added="handleBookAdded" />
      <button @click="showForm = false">â† ëŒì•„ê°€ê¸°</button>
    </div>
    -->
  </div>
</template>

<script setup lang="ts">
import { ref, type Ref } from 'vue'
// import BookForm from './components/BookForm.vue'
// import BookList from './components/BookList.vue'

const bookListRef = ref<InstanceType<any> | null>(null)  // ë˜ëŠ” ì •í™•í•œ íƒ€ì… ì§€ì • ê°€ëŠ¥
const showForm = ref<boolean>(false)

const refreshBooks = (): void => {
  bookListRef.value?.loadBooks?.()
}

const handleBookAdded = (): void => {
  showForm.value = false
  refreshBooks()
}

defineExpose({ refreshBooks })
</script>
